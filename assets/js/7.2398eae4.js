(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{210:function(e,a,t){"use strict";t.r(a);var s=t(0),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"初识-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初识-docker","aria-hidden":"true"}},[e._v("#")]),e._v(" 初识 Docker")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHu4rlAVKicfJP6iaFJbE2KkPmU2w7HBl5Vsd6qTS3SOXqOKyQCoyibNMxFT50ufibXxiaQgEL2egwQibwFw/0?wx_fmt=png",alt:"image"}})]),e._v(" "),t("p",[e._v("其实这篇文章在一年多前就起好名字了，因为之前自己对 Docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 Docker 的内容，也将 Docker 应用到自己写的 Python 项目 "),t("a",{attrs:{href:"https://github.com/AD-feiben/qc-remind",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/AD-feiben/qc-remind"),t("OutboundLink")],1),e._v(" 中，将该 Python 项目制作成一个 Docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 Docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。")]),e._v(" "),t("p",[e._v("这篇文章不会讲述以下问题，什么是 Docker、Docker 的历史、Docker 通过什么技术实现、以及为什么要使用 Docker。这里就不在搬运了网上的文章了，直接上手学习 Docker。")]),e._v(" "),t("ul",[t("li",[e._v("如果对上面所讲的问题感兴趣的话，可以访问 "),t("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://yeasy.gitbooks.io/docker_practice/"),t("OutboundLink")],1),e._v(" 进行学习")])]),e._v(" "),t("h2",{attrs:{id:"一、安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 一、安装")]),e._v(" "),t("p",[e._v("因为我的是 Mac，这里只讲 Mac 的安装，其他系统的安装可以参考 "),t("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://yeasy.gitbooks.io/docker_practice/install/"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"_1-1-使用-homebrew-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-使用-homebrew-安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1 使用 Homebrew 安装")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ brew cask "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" docker\n")])])]),t("p",[e._v("使用 "),t("code",[e._v("brew cask")]),e._v(" 安装即可")]),e._v(" "),t("h3",{attrs:{id:"_1-2-手动下载安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-手动下载安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2 手动下载安装")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("首先在 Docker 官网 "),t("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.docker.com"),t("OutboundLink")],1),e._v(" 注册一个账号，登录账号")])]),e._v(" "),t("li",[t("p",[e._v("进入 "),t("a",{attrs:{href:"https://hub.docker.com/?overlay=onboarding",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/?overlay=onboarding"),t("OutboundLink")],1),e._v(" 下载安装即可")])])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHu4rlAVKicfJP6iaFJbE2KkPmEcJ1bo6j9k9rgmd8aqRCn3exElxicgNG5CyIBzHiadCJtI941dPah2zw/0?wx_fmt=png",alt:"下载 "}})]),e._v(" "),t("p",[e._v("下载完成之后双击 .dmg 文件，将应用拖到 Application 文件夹中即可。安装完成后，在状态栏就可以看到 Docker 的 logo，说明安装成功。可以通过 "),t("code",[e._v("docker --version")]),e._v(" 命令查看 Docker 的版本。")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker --version\nDocker version "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("19.03")]),e._v(".2, build 6a30dfc\n")])])]),t("h2",{attrs:{id:"二、docker-的一些概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、docker-的一些概念","aria-hidden":"true"}},[e._v("#")]),e._v(" 二、Docker 的一些概念")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHu4rlAVKicfJP6iaFJbE2KkPm1PwdUZvHOibGjzGgyJHYxUiayTtxChEHdXbCabwdnsRnU0OzKkO3vI2w/0?wx_fmt=png",alt:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHu4rlAVKicfJP6iaFJbE2KkPm1PwdUZvHOibGjzGgyJHYxUiayTtxChEHdXbCabwdnsRnU0OzKkO3vI2w/0?wx_fmt=png"}})]),e._v(" "),t("p",[e._v("镜像存放在镜像仓库中，Docker 官方也提供了镜像仓库 "),t("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com/"),t("OutboundLink")],1),e._v(" ，我们可以从这里下载我们所需要的镜像，当然也可以将我们制作好的镜像存放到仓库中。当我们下载好镜像之后，我们可以通过 "),t("code",[e._v("run")]),e._v(" 命令来创建对应的容器，一个镜像可以创建多个容器，每个容器，相互之间不会产生影响。")]),e._v(" "),t("h3",{attrs:{id:"_2-1-image-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-image-镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1 image 镜像")]),e._v(" "),t("p",[e._v("以下镜像的操作均以 Nginx 镜像为例")]),e._v(" "),t("h4",{attrs:{id:"_2-1-1-搜索镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-搜索镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1.1 搜索镜像")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker search nginx\nNAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nnginx                             Official build of Nginx.                        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("12022")]),e._v("               "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\njwilder/nginx-proxy               Automated Nginx reverse proxy "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" docker con…   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1669")]),e._v("                                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\nricharvey/nginx-php-fpm           Container running Nginx + PHP-FPM capable of…   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("742")]),e._v("                                     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\nlinuxserver/nginx                 An Nginx container, brought to you by LinuxS…   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("77")]),e._v("\nbitnami/nginx                     Bitnami nginx Docker Image                      "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("71")]),e._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\ntiangolo/nginx-rtmp               Docker image with Nginx using the nginx-rtmp…   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("55")]),e._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\nnginxdemos/hello                  NGINX webserver that serves a simple page co…   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("28")]),e._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\njlesage/nginx-proxy-manager       Docker container "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" Nginx Proxy Manager        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("24")]),e._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\njc21/nginx-proxy-manager          Docker container "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" managing Nginx proxy ho…   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("23")]),e._v("\nnginx/nginx-ingress               NGINX Ingress Controller "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" Kubernetes         "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("22")]),e._v("\n")])])]),t("p",[e._v("可以看到 "),t("code",[e._v("镜像名 镜像描述 点赞数 是否为官方镜像 是否为自动生成")])]),e._v(" "),t("h4",{attrs:{id:"_2-1-2-下载镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-下载镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1.2 下载镜像")]),e._v(" "),t("p",[e._v("利用 "),t("code",[e._v("docker pull 镜像名[:版本]")]),e._v(" 下载我们需要的镜像，不输入版本号默认为 "),t("code",[e._v("latest")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker pull nginx\nUsing default tag: latest\nlatest: Pulling from library/nginx\nb8f262c62ec6: Pull complete\ne9218e8f93b1: Pull complete\n7acba7289aa3: Pull complete\nDigest: sha256:aeded0f2a861747f43a01cf1018cf9efe2bdd02afd57d2b11fcc7fcadc16ccd1\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" nginx:latest\ndocker.io/library/nginx:latest\n")])])]),t("h4",{attrs:{id:"_2-1-3-列出本地镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-列出本地镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1.3 列出本地镜像")]),e._v(" "),t("p",[e._v("可以使用 "),t("code",[e._v("docker image ls")]),e._v(" 或者 "),t("code",[e._v("docker images")]),e._v(" 来列出本地存在的镜像")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nnginx               latest              f949e7d76d63        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8")]),e._v(" days ago          126MB\ncentos              latest              67fa590cfc1c        "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(" weeks ago         202MB\n")])])]),t("p",[e._v("其中 "),t("code",[e._v("REPOSITORY")]),e._v(" 为镜像名；"),t("code",[e._v("TAG")]),e._v(" 为镜像标签；"),t("code",[e._v("IMAGE ID")]),e._v(" 为镜像id；"),t("code",[e._v("CREATED")]),e._v(" 为镜像创建时间；"),t("code",[e._v("SIZE")]),e._v(" 为镜像大小，该大小为解压缩后的大小，一般比仓库中的现实的镜像大小（压缩后的大小，便于传输）要大一些。")]),e._v(" "),t("h4",{attrs:{id:"_2-1-4-删除镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-删除镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1.4 删除镜像")]),e._v(" "),t("p",[e._v("通过 "),t("code",[e._v("docker image rm 镜像名/镜像id")]),e._v(" 或者 "),t("code",[e._v("docker rmi 镜像名/镜像id")]),e._v(" 来删除指定的镜像")]),e._v(" "),t("ul",[t("li",[e._v("删除镜像时，需要该镜像没有被使用，否则将会看到类似下面的错误提示")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker rmi nginx\nError response from daemon: conflict: unable to remove repository reference "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"nginx"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("must force"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" - container b36481b353d3 is using its referenced image f949e7d76d63\n")])])]),t("p",[e._v("在 Docker 仓库中还有很多优秀的镜像，例如 Ubuntu、CentOS、MySQL 等，大家可以自行查找。")]),e._v(" "),t("h3",{attrs:{id:"_2-2-container-容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-container-容器","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2 container 容器")]),e._v(" "),t("h4",{attrs:{id:"_2-2-1创建容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1创建容器","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.1创建容器")]),e._v(" "),t("p",[e._v("我们可以使用 "),t("code",[e._v("docker run [选项] 镜像")]),e._v(" 来创建一个容器，如果镜像在本地不存在，则会先到镜像仓库下载该镜像。下面的例子是 nginx 镜像不存在的情况。")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":80 nginx\nUnable to "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("find")]),e._v(" image "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'nginx:latest'")]),e._v(" locally\nlatest: Pulling from library/nginx\nb8f262c62ec6: Pull complete\ne9218e8f93b1: Pull complete\n7acba7289aa3: Pull complete\nDigest: sha256:aeded0f2a861747f43a01cf1018cf9efe2bdd02afd57d2b11fcc7fcadc16ccd1\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" nginx:latest\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 终端处于监听容器日志的状态")]),e._v("\n")])])]),t("ul",[t("li",[t("code",[e._v("-p")]),e._v(" 参数将容器中的 "),t("code",[e._v("80")]),e._v(" 端口映射到宿主机中的 "),t("code",[e._v("8080")]),e._v(" 端口")])]),e._v(" "),t("p",[e._v("在浏览器打开 "),t("code",[e._v("localhost:8080")]),e._v(" 就可以看到熟悉的 nginx 欢迎页面了。退出容器可以使用 "),t("code",[e._v("Ctrl + C")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHu4rlAVKicfJP6iaFJbE2KkPmjP4m5c56CDtqTksYeGeryehKUiaJAjHfeuZNRkJiaia3icVRSW7mxqibyHA/0?wx_fmt=png",alt:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHu4rlAVKicfJP6iaFJbE2KkPmjP4m5c56CDtqTksYeGeryehKUiaJAjHfeuZNRkJiaia3icVRSW7mxqibyHA/0?wx_fmt=png"}})]),e._v(" "),t("h4",{attrs:{id:"_2-2-2-查看运行中的容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-查看运行中的容器","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.2 查看运行中的容器")]),e._v(" "),t("p",[e._v("我们可以使用 "),t("code",[e._v("docker ps")]),e._v(" 或者 "),t("code",[e._v("docker container ls")]),e._v(" 查看运行中的容器。")]),e._v(" "),t("blockquote",[t("p",[e._v("上一步骤通过 "),t("code",[e._v("Ctrl + C")]),e._v("  停止了容器")])]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n")])])]),t("p",[e._v("可以看到并没有运行中的容器，我们可以加上 "),t("code",[e._v("-a")]),e._v("  显示所有容器，包括停止状态的容器")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v(" -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES\na2d6842faeb5        nginx               "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"nginx -g \'daemon of…"')]),e._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" minutes ago                       crazy_northcutt\n")])])]),t("p",[e._v("加上 "),t("code",[e._v("-a")]),e._v(" 后我们就可以看到已经处于停止状态的容器。")]),e._v(" "),t("p",[e._v("下一步通过下面命令启动一个新的容器")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker run -dit -p "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":80 nginx\nb36481b353d30976171cf7c706f4ce4890f81ee1a81c7e526799fb12198e7f23\n")])])]),t("ul",[t("li",[t("p",[t("code",[e._v("-dit")]),e._v(" 参数也可以分开写为 "),t("code",[e._v("-d -i -t")])])]),e._v(" "),t("li",[t("p",[t("code",[e._v("-d")]),e._v(" 参数表示容器在后台运行，并不会像上个例子处于监听容器日志的状态")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("-i")]),e._v(" 参数表示让容器的标准输入保持打开")])]),e._v(" "),t("li",[t("p",[t("code",[e._v("-t")]),e._v(" 参数表示让 Docker 分配一个伪终端")])])]),e._v(" "),t("p",[e._v("可以看到这次的结果并不像 "),t("code",[e._v("docker run -p 8080:80 nginx")]),e._v(" 那样，返回一个容器id后。终端又恢复到正常状态。")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v(" -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS                  NAMES\nb36481b353d3        nginx               "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"nginx -g \'daemon of…"')]),e._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v(" minutes ago      Up "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v(" minutes               "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0:8080-"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("/tcp   recursing_khayyam\na2d6842faeb5        nginx               "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"nginx -g \'daemon of…"')]),e._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("15")]),e._v(" minutes ago                          crazy_northcutt\n")])])]),t("p",[e._v("通过 "),t("code",[e._v("docker ps -a")]),e._v(" 命令可以看到，docker 存在两个容器。从这个例子我们可以知道，同一个镜像，如果使用 "),t("code",[e._v("run")]),e._v(" 命令创建容器，那么每个容器都是不同的实例。")]),e._v(" "),t("h4",{attrs:{id:"_2-2-3-停止容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-停止容器","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.3 停止容器")]),e._v(" "),t("p",[e._v("如果容器处在后台运行，我们可以通过 "),t("code",[e._v("docker ps")]),e._v(" 或者 "),t("code",[e._v("docker container ls")]),e._v(" 将运行中的容器实例获取到，然后通过 "),t("code",[e._v("docker container stop 容器id/容器名")]),e._v(" 停止指定容器。")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker container stop b36481b353d3\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# b36481b353d3 为第二个容器例子，后台运行的容器")]),e._v("\n")])])]),t("h4",{attrs:{id:"_2-2-4-启动容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-启动容器","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.4 启动容器")]),e._v(" "),t("p",[e._v("当然容器也是可以重新启动的，不需要每次创建。通过 "),t("code",[e._v("docker container start 容器id")]),e._v(" 即可重新启动")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker container start b36481b353d3\n")])])]),t("ul",[t("li",[e._v("通过 "),t("code",[e._v("start")]),e._v(" 命令启动的容器都会在后台运行。")])]),e._v(" "),t("h4",{attrs:{id:"_2-2-5-进入容器内"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-5-进入容器内","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.5 进入容器内")]),e._v(" "),t("p",[e._v("通过 "),t("code",[e._v("docker exec -it 容器id /bin/bash")]),e._v(" 命令进入容器内，通过 "),t("code",[e._v("-it")]),e._v(" 参数打开容器的交互式终端")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" -it b36481b353d3 /bin/bash\nroot@b36481b353d3:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#")]),e._v("\n")])])]),t("p",[e._v("我们可以在此修改容器内的东西，修改完后通过 "),t("code",[e._v("exit")]),e._v(" 退出容器，通过 "),t("code",[e._v("exec")]),e._v(" 命令进入容器，退出后容器仍处于运行的状态。")]),e._v(" "),t("h4",{attrs:{id:"_2-2-6-删除容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-6-删除容器","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.6 删除容器")]),e._v(" "),t("p",[e._v("通过 "),t("code",[e._v("docker container rm 容器id")]),e._v(" 删除指定容器。用该方法只能删除一个容器，如果我们想要删除多个容器，可以用空格隔开容器id。如果想删除的容器非常多，可以使用 "),t("code",[e._v("docker container prune")]),e._v(" 删除所有处于停止状态的容器。")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ docker container prune\nWARNING"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v(" This will remove all stopped containers.\nAre you sure you want to continue? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("y/N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" y\nDeleted Containers:\na2d6842faeb5cf039420edd684714134c52ca683aefc53a3934792251310ed1d\n\nTotal reclaimed space: 0B\n")])])]),t("ul",[t("li",[e._v("删除容器时，容器需要处于停止状态。我们可以通过 "),t("code",[e._v("docker ps -a")]),e._v(" 查看停止状态的容器")])]),e._v(" "),t("h3",{attrs:{id:"_2-3-repository-仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-repository-仓库","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.3 repository 仓库")]),e._v(" "),t("p",[e._v("由于篇幅问题，有关仓库的内容将会放到下一篇文章中。")])])}),[],!1,null,null,null);a.default=r.exports}}]);